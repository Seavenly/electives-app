<div class="container">

  <div class="row">
    <div class="col-md-9">

      <div class="list-wrapper row">
        <div class="col-xs-6" ng-repeat-start="i in [0,1,2,3]">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h3>Quarter {{ i+1 }}</h3>
            </div>
            <div class="list-group">
              <div class="list-group-item" ng-repeat="elective in ::vm.electives.data | quarter:i+1 | orderBy:'semester' track by elective._id">
                <div class="row">
                  <div class="col-xs-2">
                    <select ng-model="vm.model[i][elective._id]"
                            ng-change="vm.updateList(i, elective)"
                            ng-init="vm.model[i][elective._id] = vm.getPref(i, elective._id)">
                      <option value="0"></option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                    </select>
                  </div>
                  <div class="col-xs-10">
                    <span>
                      {{ elective.name }}
                      <small ng-if="elective.semester" style="color:blue">(semester)</small>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="clearfix" ng-repeat-end ng-if="$index%2!=0"></div>
      </div>

    </div>
    <div class="col-md-3">

      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3>List Summary</h3>
        </div>
        <div class="list-group">

          <div class="list-group-item" ng-repeat="quarter in vm.list()">
            <h3>Quarter {{ $index + 1 }}</h3>
            <ol>
              <li ng-repeat="elective in quarter | orderBy:'pref'">
                {{ elective.name }}
              </li>
            </ol>
          </div>
        </div>
        <div class="panel-footer clearfix">
          <button class="btn btn-default pull-right" ng-click="vm.saveList()">Save</button>
        </div>
      </div>

    </div>
  </div>
  <!-- <div class="row debug">
    <div cass="col-xs-12">
      <pre>{{ vm.list() | json }}</pre>
    </div>
  </div> -->

</div>
